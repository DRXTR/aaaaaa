CREATE DATABASE social_media;

USE social_media;

CREATE TABLE usuarios (
  id INT PRIMARY KEY AUTO_INCREMENT,
  nome VARCHAR(255) NOT NULL,
  username VARCHAR(255) NOT NULL,
  senha VARCHAR(255) NOT NULL,
  email VARCHAR(255) NOT NULL,
  foto_perfil VARCHAR(255) DEFAULT NULL,
  capa_perfil VARCHAR(255) DEFAULT NULL,
  bio TEXT DEFAULT NULL,
  data_cadastro TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE tweets (
  id INT PRIMARY KEY AUTO_INCREMENT,
  id_usuario INT NOT NULL,
  texto TEXT NOT NULL,
  data_postagem TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (id_usuario) REFERENCES usuarios(id)
);

CREATE TABLE seguidores (
  id INT PRIMARY KEY AUTO_INCREMENT,
  id_usuario INT NOT NULL,
  id_seguidor INT NOT NULL,
  data_seguimento TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (id_usuario) REFERENCES usuarios(id),
  FOREIGN KEY (id_seguidor) REFERENCES usuarios(id)
);

CREATE TABLE curtidas (
  id INT PRIMARY KEY AUTO_INCREMENT,
  id_tweet INT NOT NULL,
  id_usuario INT NOT NULL,
  data_curtida TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (id_tweet) REFERENCES tweets(id),
  FOREIGN KEY (id_usuario) REFERENCES usuarios(id)
);

CREATE TABLE comentarios (
  id INT PRIMARY KEY AUTO_INCREMENT,
  id_tweet INT NOT NULL,
  id_usuario INT NOT NULL,
  texto TEXT NOT NULL,
  data_comentario TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (id_tweet) REFERENCES tweets(id),
  FOREIGN KEY (id_usuario) REFERENCES usuarios(id)
);

CREATE TABLE notificacoes (
  id INT PRIMARY KEY AUTO_INCREMENT,
  id_usuario INT NOT NULL,
  tipo_notificacao VARCHAR(255) NOT NULL,
  data_notificacao TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (id_usuario) REFERENCES usuarios(id)
);